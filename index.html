<html>

<head>
	<title >
		Messenger
    </title>
    <style>
        #chat{
            height:500px;
            }
    </style>
</head>

<body>
    <h1 align="center">my page</h1>
    <div id="chat"></div>
        <div id="send-message">
            <div id="output"></div>
        </div>   
        <input  size="35" id="handle" placeholder="Handle"></input>
    	<input  size="35" id="message" placeholder="Enter Message"></input>
    	<button id="submit">Send</button>
    </div>

    <script src="http://code.jquery.com/jquery-3.3.1.min.js"></script>
  
    <script src="http://localhost:3000/socket.io/socket.io.js"></script>
     
     

    <!--<script>
         jQuery(function($){
            console.log("i m in");
            var socket = io.connect();
            var $messageForm = $('#send-message');
            var $messageBox = $('#message');
            var $chat = $('#chat');

            

            $messageForm.submit(function(e){
                console.log("enteres");
                e.preventDefault();    //prevents to refresh the page after submit button is clicked.it just send the msg to server
                console.log("submited");
                socket.emit('send message', $messageBox.val());
                $messageBox.val('');
            });

            socket.on('new messsage', function(data){
            $chat.append(data + "<br/>");
            });

        });
       

        
    </script>-->
    <script>
        
    var socket = io.connect();
    
    var message=document.getElementById("message");
    var btn=document.getElementById("submit");
    var output=document.getElementById("output");
    var handle=document.getElementById("handle");
   

    
    //functionality of btn
    btn.onclick=function(){

        socket.emit('chat',{
        message:message.value,
        handle:handle.value
        
    });
};
  

    //to output data on screen
    socket.on('chat',function(data){
        output.innerHTML+='<p><strong>'+data.handle+':</strong>'+data.message+'</p>';
    });

    </script>
</body>

</html>
